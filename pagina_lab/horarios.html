<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Horarios</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
    integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="main.css">
</head>

<body>
  <nav class="navbar navbar-expand-lg bg-body-tertiary">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html">
        <img src="imagenes/logo.svg" width="30px" alt="">
            Facultad de Informatica 
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="index.html">Inicio</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="horarios.html">Horarios</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="estudiantes.html" >
              Estudiantes
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="institucional.html">Institucional</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="extencion.html">Extencion</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="investigacion.html">Investigación</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="postgrado.html">Postgrado</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="bienestar.html">Bienestar</a>
          </li>
        </ul>
        <form class="d-flex" role="search">
          <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-success" type="submit">Search</button>
        </form>
      </div>
    </div>
  </nav>
  <section class="container-fluid ps-5 pe-5 mt-5 mb-5">
    <h1 class="text-center" id="reloj"></h1>
    <div class="reloj">
      <h2 id="reloj"></h2>
    </div>
    <form class="filtros row gap-2">
      <div class="col-6">
        <label class="form-label">Dia</label>
        <select class="form-control" id="dia">
          <option value="0">Domingo</option>
          <option value="1">Lunes</option>
          <option value="2">Martes</option>
          <option value="3">Miercoles</option>
          <option value="4">Jueves</option>
          <option value="5">Viernes</option>
          <option value="6">Sabado</option>
        </select>
      </div>
      <div class="col-6">

      </div>
      <div class="col-6">
        <button class="btn btn-primary" type="button" onclick="filtrar()">Filtrar</button>
        <button class="btn btn-secondary" type="button" onclick="cargarHorarios()">Restrablecer</button>
      </div>
    </form>
    <table class="table mt-5">
      <thead>
        <tr>
          <th colspan="2">Materia</th>
          <th>Hora Inicio</th>
          <th>Hora Fin</th>
          <th>Estado</th>
        </tr>
      </thead>
      <tbody id="tabla_horarios">
        
      </tbody>
    </table>
  </section>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script>
    
    var data = [
      {
        nombre: "Cálculo Diferencial - Recursado",
        cuatrimestre: 1,
        anio: 1,
        carrera: "LCC",
        horainicio: "08:00:00",
        horafin: "11:00:00",
        dia: 1
      },
      {
        nombre: "Física I",
        cuatrimestre: 1,
        anio: 2,
        carrera: "LSI",
        horainicio: "10:00:00",
        horafin: "13:00:00",
        dia: 3
      },
      {
        nombre: "Programación I",
        cuatrimestre: 1,
        anio: 1,
        carrera: "TUDW",
        horainicio: "14:00:00",
        horafin: "17:00:00",
        dia: 5
      },
      {
        nombre: "Estructuras de Datos",
        cuatrimestre: 2,
        anio: 2,
        carrera: "LCC",
        horainicio: "09:00:00",
        horafin: "12:00:00",
        dia: 2
      },
      {
        nombre: "Ingeniería de Software",
        cuatrimestre: 2,
        anio: 3,
        carrera: "LSI",
        horainicio: "11:00:00",
        horafin: "14:00:00",
        dia: 4
      },
      {
        nombre: "Bases de Datos",
        cuatrimestre: 2,
        anio: 3,
        carrera: "TUASySL",
        horainicio: "15:00:00",
        horafin: "18:00:00",
        dia: 3
      },
      {
        nombre: "Sistemas Operativos",
        cuatrimestre: 2,
        anio: 2,
        carrera: "LCC",
        horainicio: "09:00:00",
        horafin: "12:00:00",
        dia: 5
      },
      {
        nombre: "Redes de Computadoras",
        cuatrimestre: 2,
        anio: 3,
        carrera: "TUDW",
        horainicio: "10:00:00",
        horafin: "13:00:00",
        dia: 2
      },
      {
        nombre: "Metodología de la Investigación",
        cuatrimestre: 2,
        anio: 1,
        carrera: "PROF",
        horainicio: "13:00:00",
        horafin: "16:00:00",
        dia: 4
      },
      {
        nombre: "Arquitectura de Computadoras",
        cuatrimestre: 2,
        anio: 2,
        carrera: "LSI",
        horainicio: "09:00:00",
        horafin: "12:00:00",
        dia: 1
      }
    ];
    
    $("#dia").val(new Date().getDay());

    cargarReloj();
    cargarHorarios();
    
    function cargarHorarios(){
      //var horarios_filtrados = data.filter( (x) => x.dia == new Date().getDay());
      var horarios_filtrados = data.filter( (x) => x.dia == $("#dia").val() );
      horarios_filtrados.forEach(horario => {
        var horario_html = `
          <tr>
            <td colspan="2">${horario.nombre}</td>
            <td>${horario.horainicio}</td>
            <td>${horario.horafin}</td>
            <td>
                <span class="badge text-bg-success">Normal</span>
            </td>
          </tr>
        `;

        $("#tabla_horarios").append(horario_html);
      });
    }

    function filtrar(){
      $("#tabla_horarios").empty();
      cargarHorarios();
    }

    function cargarReloj(){
      obtenerHora();
      setInterval(() => {
        obtenerHora();
      }, 100);
    }

    function obtenerHora(){
      $("#reloj").empty();
        var date = new Date();
        var reloj = zfild(date.getHours())+":"+zfild(date.getMinutes())+":00";
        $("#reloj").append(reloj);
    }

    function zfild(numero){
      return numero.toString().padStart(2, '0')
    }
  </script>
</body>

</html>